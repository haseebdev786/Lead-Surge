module.exports=[7801,a=>{"use strict";let b="mt-2 w-full rounded-2xl border border-white/20 bg-white/5 px-4 py-3 text-sm text-white placeholder:text-slate-500 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/30 disabled:cursor-not-allowed disabled:opacity-60",c=b+" min-h-[140px] resize-none",d=`${b} select-dark`;a.s(["dangerButtonClass",0,"inline-flex items-center justify-center rounded-2xl border border-rose-400/40 bg-rose-500/10 px-4 py-2 text-sm font-semibold text-rose-100 transition hover:bg-rose-500/20 disabled:cursor-not-allowed disabled:opacity-60","heroPanelClass",0,"rounded-3xl border border-white/10 bg-gradient-to-br from-slate-900/80 via-slate-900/30 to-indigo-900/20 p-8 text-slate-100 shadow-2xl shadow-slate-950/30","infoTextClass",0,"text-sm text-slate-400","inputClass",0,b,"mutedLabelClass",0,"text-sm font-medium text-slate-300","panelClass",0,"rounded-3xl border border-white/10 bg-white/5 p-6 text-slate-100 shadow-xl shadow-slate-950/20 backdrop-blur-xl","pillClass",0,"text-[0.65rem] uppercase tracking-[0.35em] text-slate-400","primaryButtonClass",0,"inline-flex items-center justify-center rounded-2xl bg-gradient-to-r from-sky-400 via-blue-500 to-indigo-500 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-sky-500/30 transition hover:brightness-105 disabled:cursor-not-allowed disabled:opacity-60","secondaryButtonClass",0,"inline-flex items-center justify-center rounded-2xl border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60","selectClass",0,b,"selectDarkClass",0,d,"statusPillMap",0,{posted:"bg-emerald-500/20 text-emerald-200",scheduled:"bg-amber-500/20 text-amber-200",failed:"bg-rose-500/20 text-rose-200"},"textareaClass",0,c])},5824,a=>{"use strict";var b=a.i(9168),c=a.i(7068),d=a.i(2759),e=a.i(3590),f=a.i(7342),g=a.i(8171),h=a.i(7669),i=a.i(7288),j=a.i(7551),k=a.i(7801);let l=(0,j.default)(function(){let[a,b]=(0,h.useState)([]),[c,d]=(0,h.useState)("");async function e(c,e,f){d("");let g=localStorage.getItem("token");try{let d=await fetch(`http://localhost:4000/api/admin/users/${c}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({role:e,credits:f})}),h=await d.json();if(!d.ok)throw Error(h.error||"Update failed");b(a.map(a=>a._id===c?h:a))}catch(a){d(a.message)}}return(0,h.useEffect)(()=>{!async function(){let a=localStorage.getItem("token");try{let c=await fetch("http://localhost:4000/api/admin/users",{headers:{Authorization:`Bearer ${a}`}});if(c.ok){let a=await c.json();b(a)}else{let a=await c.json();d(a.error||"Failed to fetch users")}}catch(a){d("Failed to fetch users")}}()},[]),(0,g.jsx)(i.default,{children:(0,g.jsxs)("div",{className:"space-y-8",children:[(0,g.jsx)("section",{className:k.heroPanelClass,children:(0,g.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,g.jsx)("p",{className:k.pillClass,children:"Admin console"}),(0,g.jsx)("h2",{className:"text-4xl font-semibold text-white",children:"Admin - Users"}),(0,g.jsx)("p",{className:"text-sm text-slate-300",children:"Adjust roles and credit balances across workspaces."})]})}),c&&(0,g.jsx)("p",{className:"rounded-2xl border border-rose-400/30 bg-rose-500/10 px-4 py-2 text-sm text-rose-100",children:c}),(0,g.jsx)("div",{className:`${k.panelClass} overflow-x-auto`,children:(0,g.jsxs)("table",{className:"min-w-full text-sm text-slate-200",children:[(0,g.jsx)("thead",{className:"text-left text-xs uppercase text-slate-400",children:(0,g.jsxs)("tr",{className:"border-b border-white/10",children:[(0,g.jsx)("th",{className:"px-3 py-2 font-semibold",children:"Email"}),(0,g.jsx)("th",{className:"px-3 py-2 font-semibold",children:"Role"}),(0,g.jsx)("th",{className:"px-3 py-2 font-semibold",children:"Credits"})]})}),(0,g.jsx)("tbody",{children:a.map(a=>(0,g.jsxs)("tr",{className:"border-b border-white/10 last:border-b-0",children:[(0,g.jsx)("td",{className:"px-3 py-2 break-all text-slate-100",children:a.email}),(0,g.jsx)("td",{className:"px-3 py-2",children:(0,g.jsxs)("select",{value:a.role,onChange:b=>e(a._id,b.target.value,a.credits),className:k.selectClass,children:[(0,g.jsx)("option",{value:"customer",children:"customer"}),(0,g.jsx)("option",{value:"admin",children:"admin"})]})}),(0,g.jsx)("td",{className:"px-3 py-2",children:(0,g.jsx)("input",{type:"number",min:"0",value:a.credits,onChange:b=>e(a._id,a.role,parseInt(b.target.value,10)),className:`${k.inputClass} w-28`})})]},a._id))})]})})]})})},{adminOnly:!0});a.s(["default",0,l],681);var m=a.i(681),n=a.i(9193);let o=(0,d.hoist)(m,"default"),p=(0,d.hoist)(m,"getStaticProps"),q=(0,d.hoist)(m,"getStaticPaths"),r=(0,d.hoist)(m,"getServerSideProps"),s=(0,d.hoist)(m,"config"),t=(0,d.hoist)(m,"reportWebVitals"),u=(0,d.hoist)(m,"unstable_getStaticProps"),v=(0,d.hoist)(m,"unstable_getStaticPaths"),w=(0,d.hoist)(m,"unstable_getStaticParams"),x=(0,d.hoist)(m,"unstable_getServerProps"),y=(0,d.hoist)(m,"unstable_getServerSideProps"),z=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/admin/users",pathname:"/admin/users",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:m}),A=(0,n.getHandler)({srcPage:"/admin/users",config:s,userland:m,routeModule:z,getStaticPaths:q,getStaticProps:p,getServerSideProps:r});a.s(["config",0,s,"default",0,o,"getServerSideProps",0,r,"getStaticPaths",0,q,"getStaticProps",0,p,"handler",0,A,"reportWebVitals",0,t,"routeModule",0,z,"unstable_getServerProps",0,x,"unstable_getServerSideProps",0,y,"unstable_getStaticParams",0,w,"unstable_getStaticPaths",0,v,"unstable_getStaticProps",0,u],5824)}];

//# sourceMappingURL=_ecefc9be._.js.map