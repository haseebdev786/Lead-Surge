module.exports=[7801,a=>{"use strict";let b="mt-2 w-full rounded-2xl border border-white/20 bg-white/5 px-4 py-3 text-sm text-white placeholder:text-slate-500 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/30 disabled:cursor-not-allowed disabled:opacity-60",c=b+" min-h-[140px] resize-none",d=`${b} select-dark`;a.s(["dangerButtonClass",0,"inline-flex items-center justify-center rounded-2xl border border-rose-400/40 bg-rose-500/10 px-4 py-2 text-sm font-semibold text-rose-100 transition hover:bg-rose-500/20 disabled:cursor-not-allowed disabled:opacity-60","heroPanelClass",0,"rounded-3xl border border-white/10 bg-gradient-to-br from-slate-900/80 via-slate-900/30 to-indigo-900/20 p-8 text-slate-100 shadow-2xl shadow-slate-950/30","infoTextClass",0,"text-sm text-slate-400","inputClass",0,b,"mutedLabelClass",0,"text-sm font-medium text-slate-300","panelClass",0,"rounded-3xl border border-white/10 bg-white/5 p-6 text-slate-100 shadow-xl shadow-slate-950/20 backdrop-blur-xl","pillClass",0,"text-[0.65rem] uppercase tracking-[0.35em] text-slate-400","primaryButtonClass",0,"inline-flex items-center justify-center rounded-2xl bg-gradient-to-r from-sky-400 via-blue-500 to-indigo-500 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-sky-500/30 transition hover:brightness-105 disabled:cursor-not-allowed disabled:opacity-60","secondaryButtonClass",0,"inline-flex items-center justify-center rounded-2xl border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60","selectClass",0,b,"selectDarkClass",0,d,"statusPillMap",0,{posted:"bg-emerald-500/20 text-emerald-200",scheduled:"bg-amber-500/20 text-amber-200",failed:"bg-rose-500/20 text-rose-200"},"textareaClass",0,c])},1956,a=>{"use strict";var b=a.i(9168),c=a.i(7068),d=a.i(2759),e=a.i(3590),f=a.i(7342),g=a.i(8171),h=a.i(7669),i=a.i(7288),j=a.i(7551),k=a.i(8541),l=a.i(7801);let m=(0,j.default)(function(){let{user:a,refresh:b}=(0,k.useAuth)(),c="http://localhost:4000/api",[d,e]=(0,h.useState)({connected:!1,instagramBusinessAccountId:null,facebookPageId:null}),[f,j]=(0,h.useState)({longLivedToken:"",instagramBusinessAccountId:"",facebookPageId:""}),[m,n]=(0,h.useState)(!0),[o,p]=(0,h.useState)(!1),[q,r]=(0,h.useState)(""),[s,t]=(0,h.useState)(""),[u,v]=(0,h.useState)({provider:"openai",hasApiKey:!1}),[w,x]=(0,h.useState)({provider:"openai",apiKey:""}),[y,z]=(0,h.useState)(!0),[A,B]=(0,h.useState)(!1),[C,D]=(0,h.useState)(""),[E,F]=(0,h.useState)("");async function G(){n(!0),t("");try{let a=localStorage.getItem("token"),b=await fetch(`${c}/account/social`,{headers:{Authorization:`Bearer ${a}`}});if(!b.ok)throw Error("Unable to load social configuration");let d=await b.json();e(d),j(a=>({...a,longLivedToken:"",instagramBusinessAccountId:d.instagramBusinessAccountId||"",facebookPageId:d.facebookPageId||""}))}catch(a){t(a.message)}finally{n(!1)}}async function H(){z(!0),F("");try{let a=localStorage.getItem("token"),b=await fetch(`${c}/account/ai`,{headers:{Authorization:`Bearer ${a}`}});if(!b.ok)throw Error("Unable to load AI configuration");let d=await b.json();v(d),x(a=>({...a,provider:d.provider||"openai",apiKey:""}))}catch(a){F(a.message)}finally{z(!1)}}(0,h.useEffect)(()=>{G(),H()},[]);let I=a=>{let{name:b,value:c}=a.target;j(a=>({...a,[b]:c}))},J=async a=>{a.preventDefault(),t(""),r(""),p(!0);try{let a=localStorage.getItem("token"),d={instagramBusinessAccountId:f.instagramBusinessAccountId.trim()||null,facebookPageId:f.facebookPageId.trim()||null};f.longLivedToken.trim()&&(d.longLivedToken=f.longLivedToken.trim());let e=await fetch(`${c}/account/social`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(d)}),g=await e.json();if(!e.ok)throw Error(g.error||"Failed to update social configuration");r("Social configuration saved."),j(a=>({...a,longLivedToken:""})),await G(),await b()}catch(a){t(a.message)}finally{p(!1)}},K=async()=>{t(""),r(""),p(!0);try{let a=localStorage.getItem("token"),d=await fetch(`${c}/account/social`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),e=await d.json();if(!d.ok)throw Error(e.error||"Failed to disconnect social account");r("Social account disconnected."),await G(),await b()}catch(a){t(a.message)}finally{p(!1)}};return(0,g.jsx)(i.default,{children:(0,g.jsxs)("div",{className:"space-y-8",children:[(0,g.jsx)("section",{className:l.heroPanelClass,children:(0,g.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,g.jsx)("p",{className:l.pillClass,children:"Integrations"}),(0,g.jsx)("h2",{className:"text-4xl font-semibold text-white",children:"Account Settings"}),(0,g.jsx)("p",{className:"text-sm text-slate-300",children:"Connect Meta assets and manage AI keys so posts and automations keep running from your own infrastructure."})]})}),(0,g.jsxs)("section",{className:`${l.panelClass} space-y-4`,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"text-xl font-semibold",children:"Meta Account Connection"}),(0,g.jsx)("p",{className:l.infoTextClass,children:"Provide your long-lived token and business IDs so posting and DM automation use your own Facebook/Instagram assets."}),(0,g.jsxs)("p",{className:`${l.infoTextClass} text-amber-200`,children:["Note: The token saved here is not a permanent token. For a true long-term Meta setup, please contact our help team at"," ",(0,g.jsx)("a",{href:"mailto:support@leadsuite.ai",className:"text-sky-300 underline-offset-2 hover:text-white hover:underline",children:"support@leadsuite.ai"})," ","and weâ€™ll provision a managed solution."]})]}),s&&(0,g.jsx)("p",{className:"text-sm text-red-600",children:s}),q&&(0,g.jsx)("p",{className:"text-sm text-green-600",children:q}),(0,g.jsxs)("p",{className:"text-sm",children:["Status:"," ",(0,g.jsx)("span",{className:d.connected?"text-green-600 font-medium":"text-red-600 font-medium",children:d.connected?"Connected":"Not Connected"})]}),m?(0,g.jsx)("p",{className:l.infoTextClass,children:"Loading current configuration..."}):(0,g.jsxs)("form",{onSubmit:J,className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"longLivedToken",className:l.mutedLabelClass,children:"Long-lived token"}),(0,g.jsx)("textarea",{id:"longLivedToken",name:"longLivedToken",value:f.longLivedToken,onChange:I,placeholder:"Paste new long-lived token (leave blank to keep current token)",className:l.textareaClass,rows:3})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"instagramBusinessAccountId",className:l.mutedLabelClass,children:"Instagram Business Account ID"}),(0,g.jsx)("input",{id:"instagramBusinessAccountId",name:"instagramBusinessAccountId",value:f.instagramBusinessAccountId,onChange:I,className:l.inputClass,placeholder:"IG business account ID"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"facebookPageId",className:l.mutedLabelClass,children:"Facebook Page ID"}),(0,g.jsx)("input",{id:"facebookPageId",name:"facebookPageId",value:f.facebookPageId,onChange:I,className:l.inputClass,placeholder:"Page ID"})]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("button",{type:"submit",disabled:o,className:l.primaryButtonClass,children:o?"Saving...":"Save"}),(0,g.jsx)("button",{type:"button",onClick:K,disabled:o,className:l.dangerButtonClass,children:"Disconnect"})]})]})]})]})})});a.s(["default",0,m],5437);var n=a.i(5437),o=a.i(9193);let p=(0,d.hoist)(n,"default"),q=(0,d.hoist)(n,"getStaticProps"),r=(0,d.hoist)(n,"getStaticPaths"),s=(0,d.hoist)(n,"getServerSideProps"),t=(0,d.hoist)(n,"config"),u=(0,d.hoist)(n,"reportWebVitals"),v=(0,d.hoist)(n,"unstable_getStaticProps"),w=(0,d.hoist)(n,"unstable_getStaticPaths"),x=(0,d.hoist)(n,"unstable_getStaticParams"),y=(0,d.hoist)(n,"unstable_getServerProps"),z=(0,d.hoist)(n,"unstable_getServerSideProps"),A=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/account",pathname:"/account",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:n}),B=(0,o.getHandler)({srcPage:"/account",config:t,userland:n,routeModule:A,getStaticPaths:r,getStaticProps:q,getServerSideProps:s});a.s(["config",0,t,"default",0,p,"getServerSideProps",0,s,"getStaticPaths",0,r,"getStaticProps",0,q,"handler",0,B,"reportWebVitals",0,u,"routeModule",0,A,"unstable_getServerProps",0,y,"unstable_getServerSideProps",0,z,"unstable_getStaticParams",0,x,"unstable_getStaticPaths",0,w,"unstable_getStaticProps",0,v],1956)}];

//# sourceMappingURL=_d5c7e257._.js.map