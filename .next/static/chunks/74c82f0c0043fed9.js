(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8394,e=>{"use strict";let t="mt-2 w-full rounded-2xl border border-white/20 bg-white/5 px-4 py-3 text-sm text-white placeholder:text-slate-500 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/30 disabled:cursor-not-allowed disabled:opacity-60",s=t+" min-h-[140px] resize-none",a=`${t} select-dark`;e.s(["dangerButtonClass",0,"inline-flex items-center justify-center rounded-2xl border border-rose-400/40 bg-rose-500/10 px-4 py-2 text-sm font-semibold text-rose-100 transition hover:bg-rose-500/20 disabled:cursor-not-allowed disabled:opacity-60","heroPanelClass",0,"rounded-3xl border border-white/10 bg-gradient-to-br from-slate-900/80 via-slate-900/30 to-indigo-900/20 p-8 text-slate-100 shadow-2xl shadow-slate-950/30","infoTextClass",0,"text-sm text-slate-400","inputClass",0,t,"mutedLabelClass",0,"text-sm font-medium text-slate-300","panelClass",0,"rounded-3xl border border-white/10 bg-white/5 p-6 text-slate-100 shadow-xl shadow-slate-950/20 backdrop-blur-xl","pillClass",0,"text-[0.65rem] uppercase tracking-[0.35em] text-slate-400","primaryButtonClass",0,"inline-flex items-center justify-center rounded-2xl bg-gradient-to-r from-sky-400 via-blue-500 to-indigo-500 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-sky-500/30 transition hover:brightness-105 disabled:cursor-not-allowed disabled:opacity-60","secondaryButtonClass",0,"inline-flex items-center justify-center rounded-2xl border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60","selectClass",0,t,"selectDarkClass",0,a,"statusPillMap",0,{posted:"bg-emerald-500/20 text-emerald-200",scheduled:"bg-amber-500/20 text-amber-200",failed:"bg-rose-500/20 text-rose-200"},"textareaClass",0,s])},5125,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={VALID_LOADERS:function(){return r},imageConfigDefault:function(){return i}};for(var l in a)Object.defineProperty(s,l,{enumerable:!0,get:a[l]});let r=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},3521,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"ImageConfigContext",{enumerable:!0,get:function(){return r}});let a=e.r(1705)._(e.r(1788)),l=e.r(5125),r=a.default.createContext(l.imageConfigDefault)},3312,e=>{"use strict";var t=e.i(1398),s=e.i(1788),a=e.i(8965),l=e.i(4714),r=e.i(8394);let i=(0,l.default)(function(){let[e,l]=(0,s.useState)([]),[i,o]=(0,s.useState)("");async function n(t,s,a){o("");let r=localStorage.getItem("token");try{let i=await fetch(`http://localhost:4000/api/admin/users/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({role:s,credits:a})}),o=await i.json();if(!i.ok)throw Error(o.error||"Update failed");l(e.map(e=>e._id===t?o:e))}catch(e){o(e.message)}}return(0,s.useEffect)(()=>{!async function(){let e=localStorage.getItem("token");try{let t=await fetch("http://localhost:4000/api/admin/users",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();l(e)}else{let e=await t.json();o(e.error||"Failed to fetch users")}}catch(e){o("Failed to fetch users")}}()},[]),(0,t.jsx)(a.default,{children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("section",{className:r.heroPanelClass,children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("p",{className:r.pillClass,children:"Admin console"}),(0,t.jsx)("h2",{className:"text-4xl font-semibold text-white",children:"Admin - Users"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Adjust roles and credit balances across workspaces."})]})}),i&&(0,t.jsx)("p",{className:"rounded-2xl border border-rose-400/30 bg-rose-500/10 px-4 py-2 text-sm text-rose-100",children:i}),(0,t.jsx)("div",{className:`${r.panelClass} overflow-x-auto`,children:(0,t.jsxs)("table",{className:"min-w-full text-sm text-slate-200",children:[(0,t.jsx)("thead",{className:"text-left text-xs uppercase text-slate-400",children:(0,t.jsxs)("tr",{className:"border-b border-white/10",children:[(0,t.jsx)("th",{className:"px-3 py-2 font-semibold",children:"Email"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold",children:"Role"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold",children:"Credits"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{className:"border-b border-white/10 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-3 py-2 break-all text-slate-100",children:e.email}),(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsxs)("select",{value:e.role,onChange:t=>n(e._id,t.target.value,e.credits),className:r.selectClass,children:[(0,t.jsx)("option",{value:"customer",children:"customer"}),(0,t.jsx)("option",{value:"admin",children:"admin"})]})}),(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsx)("input",{type:"number",min:"0",value:e.credits,onChange:t=>n(e._id,e.role,parseInt(t.target.value,10)),className:`${r.inputClass} w-28`})})]},e._id))})]})})]})})},{adminOnly:!0});e.s(["default",0,i])},4527,(e,t,s)=>{let a="/admin/users";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(3312)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},8761,e=>{e.v(t=>Promise.all(["static/chunks/df56c2ef92c6043e.js"].map(t=>e.l(t))).then(()=>t(3594)))},8805,e=>{e.v(t=>Promise.all(["static/chunks/5ec9ab7aae3f3e76.js"].map(t=>e.l(t))).then(()=>t(9466)))}]);