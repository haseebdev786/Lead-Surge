(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7748,e=>{"use strict";var t=e.i(1788);let s=t.forwardRef(function({title:e,titleId:s,...a},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))});e.s(["SparklesIcon",0,s],7748)},5979,e=>{"use strict";var t=e.i(1788);let s=t.forwardRef(function({title:e,titleId:s,...a},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))});e.s(["BoltIcon",0,s],5979)},5543,e=>{"use strict";e.i(461);var t=e.i(1398),s=e.i(1788),a=e.i(1158);let i=s.forwardRef(function({title:e,titleId:t,...a},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))});var l=e.i(5979),r=e.i(1754),o=e.i(6007),n=e.i(5074),c=e.i(7748),d=e.i(8965),h=e.i(4714),m=e.i(7639);let x=(0,h.default)(function(){let{user:e}=(0,m.useAuth)(),[h,x]=(0,s.useState)({posts:0,templates:0}),[p,u]=(0,s.useState)("");(0,s.useEffect)(()=>{!async function(){try{let e=localStorage.getItem("token"),[t,s]=await Promise.all([fetch("http://localhost:4000/api/posts",{headers:{Authorization:`Bearer ${e}`}}),fetch("http://localhost:4000/api/dms/templates",{headers:{Authorization:`Bearer ${e}`}})]),a=0,i=0;t.ok&&(a=(await t.json()).length),s.ok&&(i=(await s.json()).length),x({posts:a,templates:i})}catch(e){u("Failed to load dashboard metrics")}}()},[]);let g=e=>Number(e??0).toLocaleString(),b=!!(e?.meta?.longLivedToken&&(e?.meta?.instagramBusinessAccountId||e?.meta?.facebookPageId)),w=!!(e?.ai?.apiKey||e?.ai?.provider),j=(0,s.useMemo)(()=>[{title:"Credits available",value:g(e?.credits??0),subtitle:"AI generations ready to go",pill:"AI Studio",icon:l.BoltIcon,iconBg:"bg-sky-500/15 text-sky-300"},{title:"Scheduled posts",value:g(h.posts),subtitle:"Queued or recently published",pill:"Content Ops",icon:r.CalendarDaysIcon,iconBg:"bg-emerald-500/15 text-emerald-300"},{title:"DM templates",value:g(h.templates),subtitle:"Personalised flows ready to send",pill:"Automation",icon:o.ChatBubbleLeftRightIcon,iconBg:"bg-fuchsia-500/20 text-fuchsia-200"},{title:"Automation health",value:b&&w?"All green":"Action needed",subtitle:`Meta ${b?"connected":"reconnect"} - AI ${w?"ready":"configure"}`,pill:"Integrity",icon:n.ShieldCheckIcon,iconBg:b&&w?"bg-emerald-500/15 text-emerald-300":"bg-amber-500/20 text-amber-200"}],[w,b,h.posts,h.templates,e?.credits]),f=[{title:b?"Meta tokens synced":"Reconnect Meta",description:b?"Long-lived access tokens refreshed automatically. Scheduler will keep posting without pauses.":"We could not detect a live Meta connection. Re-authenticate to keep auto-publishing active.",positive:b},{title:w?"AI provider configured":"Add AI credentials",description:w?`Generating captions with ${e?.ai?.provider??"OpenAI"} is ready.`:"Plug in your OpenAI or Gemini key to unlock caption enhancement and hashtag discovery.",positive:w},{title:"Templates library",description:h.templates>0?`${h.templates} DM templates are primed for outreach automations.`:"Create your first DM template so Messenger automations feel on-brand.",positive:h.templates>0}];return(0,t.jsx)(d.default,{children:(0,t.jsxs)("div",{className:"space-y-8",children:[p&&(0,t.jsx)("div",{className:"rounded-2xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-100",children:p}),(0,t.jsxs)("section",{className:"rounded-3xl border border-white/10 bg-gradient-to-br from-slate-900/80 via-slate-900/30 to-indigo-900/20 p-8 text-slate-100 shadow-2xl shadow-slate-950/30",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-slate-400",children:[(0,t.jsx)(c.SparklesIcon,{className:"h-4 w-4 text-sky-300"}),"Welcome back"]}),(0,t.jsx)("h2",{className:"mt-4 text-4xl font-semibold text-white",children:e?.email?`Hey, ${e.email.split("@")[0]}`:"Your social studio"}),(0,t.jsx)("p",{className:"mt-3 max-w-2xl text-sm text-slate-300",children:"Monitor credits, track automation health and jump straight into your next campaign with quick actions."})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-5 py-4 text-center",children:[(0,t.jsx)("p",{className:"text-[0.65rem] uppercase tracking-[0.35em] text-slate-400",children:"Credits"}),(0,t.jsx)("p",{className:"mt-2 text-3xl font-semibold text-white",children:g(e?.credits??0)})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-5 py-4 text-center",children:[(0,t.jsx)("p",{className:"text-[0.65rem] uppercase tracking-[0.35em] text-slate-400",children:"Subscription"}),(0,t.jsx)("p",{className:"mt-2 text-base font-semibold text-white",children:e?.subscriptionStatus||"inactive"})]})]})]}),(0,t.jsxs)("div",{className:"mt-8 grid gap-4 text-xs text-slate-300 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Next publish"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-white",children:h.posts>0?"Scheduled in queue":"No posts scheduled"})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Templates live"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-white",children:h.templates>0?`${g(h.templates)} ready`:"None yet"})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Workspace health"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-white",children:b&&w?"All systems operational":"Check connections"})]})]})]}),(0,t.jsx)("section",{className:"grid gap-5 lg:grid-cols-2 xl:grid-cols-4",children:j.map(e=>{let s=e.icon;return(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 text-slate-100 shadow-lg shadow-slate-950/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[0.55rem] uppercase tracking-[0.35em] text-slate-400",children:e.pill}),(0,t.jsx)("h3",{className:"mt-2 text-lg font-semibold text-white",children:e.title})]}),(0,t.jsx)("span",{className:`rounded-2xl p-3 ${e.iconBg}`,children:(0,t.jsx)(s,{className:"h-5 w-5"})})]}),(0,t.jsx)("p",{className:"mt-6 text-3xl font-semibold text-white",children:e.value}),(0,t.jsx)("p",{className:"mt-2 text-sm text-slate-400",children:e.subtitle})]},e.title)})}),(0,t.jsxs)("section",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 text-slate-100 shadow-lg shadow-slate-950/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i,{className:"h-5 w-5 text-sky-300"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Automation pulse"})]}),(0,t.jsx)("ul",{className:"mt-5 space-y-4",children:f.map(e=>(0,t.jsxs)("li",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-slate-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:e.title}),(0,t.jsx)("span",{className:`rounded-full px-3 py-1 text-xs ${e.positive?"bg-emerald-500/15 text-emerald-200":"bg-amber-500/15 text-amber-200"}`,children:e.positive?"Healthy":"Action"})]}),(0,t.jsx)("p",{className:"mt-1 text-slate-400",children:e.description})]},e.title))})]}),(0,t.jsxs)("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 text-slate-100 shadow-lg shadow-slate-950/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(l.BoltIcon,{className:"h-5 w-5 text-amber-200"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Quick actions"})]}),(0,t.jsx)("div",{className:"mt-5 space-y-4",children:[{title:"Schedule a post",description:"Upload creative, set auto-publish and track credit usage.",href:"/post-scheduler"},{title:"Discover hashtags",description:"Use AI to surface hyper-relevant tags for upcoming launches.",href:"/hashtag-discovery"},{title:"Boost credits",description:"Top up instantly with secure Stripe checkout.",href:"/credits"}].map(e=>(0,t.jsx)(a.default,{href:e.href,legacyBehavior:!0,children:(0,t.jsxs)("a",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-slate-200 transition hover:border-white/30 hover:bg-white/10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:e.title}),(0,t.jsx)("p",{className:"text-slate-400",children:e.description})]}),(0,t.jsx)(i,{className:"h-5 w-5 text-sky-300"})]})},e.title))})]})]})]})})});e.s(["default",0,x],5543)},6066,(e,t,s)=>{let a="/dashboard";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(5543)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},8761,e=>{e.v(t=>Promise.all(["static/chunks/df56c2ef92c6043e.js"].map(t=>e.l(t))).then(()=>t(3594)))},8805,e=>{e.v(t=>Promise.all(["static/chunks/5ec9ab7aae3f3e76.js"].map(t=>e.l(t))).then(()=>t(9466)))}]);