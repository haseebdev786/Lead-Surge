(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8394,e=>{"use strict";let t="mt-2 w-full rounded-2xl border border-white/20 bg-white/5 px-4 py-3 text-sm text-white placeholder:text-slate-500 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/30 disabled:cursor-not-allowed disabled:opacity-60",a=t+" min-h-[140px] resize-none",s=`${t} select-dark`;e.s(["dangerButtonClass",0,"inline-flex items-center justify-center rounded-2xl border border-rose-400/40 bg-rose-500/10 px-4 py-2 text-sm font-semibold text-rose-100 transition hover:bg-rose-500/20 disabled:cursor-not-allowed disabled:opacity-60","heroPanelClass",0,"rounded-3xl border border-white/10 bg-gradient-to-br from-slate-900/80 via-slate-900/30 to-indigo-900/20 p-8 text-slate-100 shadow-2xl shadow-slate-950/30","infoTextClass",0,"text-sm text-slate-400","inputClass",0,t,"mutedLabelClass",0,"text-sm font-medium text-slate-300","panelClass",0,"rounded-3xl border border-white/10 bg-white/5 p-6 text-slate-100 shadow-xl shadow-slate-950/20 backdrop-blur-xl","pillClass",0,"text-[0.65rem] uppercase tracking-[0.35em] text-slate-400","primaryButtonClass",0,"inline-flex items-center justify-center rounded-2xl bg-gradient-to-r from-sky-400 via-blue-500 to-indigo-500 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-sky-500/30 transition hover:brightness-105 disabled:cursor-not-allowed disabled:opacity-60","secondaryButtonClass",0,"inline-flex items-center justify-center rounded-2xl border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60","selectClass",0,t,"selectDarkClass",0,s,"statusPillMap",0,{posted:"bg-emerald-500/20 text-emerald-200",scheduled:"bg-amber-500/20 text-amber-200",failed:"bg-rose-500/20 text-rose-200"},"textareaClass",0,a])},5125,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={VALID_LOADERS:function(){return n},imageConfigDefault:function(){return i}};for(var o in s)Object.defineProperty(a,o,{enumerable:!0,get:s[o]});let n=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},3521,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ImageConfigContext",{enumerable:!0,get:function(){return n}});let s=e.r(1705)._(e.r(1788)),o=e.r(5125),n=s.default.createContext(o.imageConfigDefault)},9634,e=>{"use strict";var t=e.i(1398),a=e.i(1788),s=e.i(8965),o=e.i(4714),n=e.i(7639),i=e.i(8394);let l=(0,o.default)(function(){let{user:e,refresh:o}=(0,n.useAuth)(),l="http://localhost:4000/api",[r,c]=(0,a.useState)({connected:!1,instagramBusinessAccountId:null,facebookPageId:null}),[d,u]=(0,a.useState)({longLivedToken:"",instagramBusinessAccountId:"",facebookPageId:""}),[m,g]=(0,a.useState)(!0),[h,x]=(0,a.useState)(!1),[p,f]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[w,k]=(0,a.useState)({provider:"openai",hasApiKey:!1}),[v,j]=(0,a.useState)({provider:"openai",apiKey:""}),[C,I]=(0,a.useState)(!0),[N,P]=(0,a.useState)(!1),[S,T]=(0,a.useState)(""),[A,B]=(0,a.useState)("");async function L(){g(!0),y("");try{let e=localStorage.getItem("token"),t=await fetch(`${l}/account/social`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Unable to load social configuration");let a=await t.json();c(a),u(e=>({...e,longLivedToken:"",instagramBusinessAccountId:a.instagramBusinessAccountId||"",facebookPageId:a.facebookPageId||""}))}catch(e){y(e.message)}finally{g(!1)}}async function _(){I(!0),B("");try{let e=localStorage.getItem("token"),t=await fetch(`${l}/account/ai`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Unable to load AI configuration");let a=await t.json();k(a),j(e=>({...e,provider:a.provider||"openai",apiKey:""}))}catch(e){B(e.message)}finally{I(!1)}}(0,a.useEffect)(()=>{L(),_()},[]);let D=e=>{let{name:t,value:a}=e.target;u(e=>({...e,[t]:a}))},E=async e=>{e.preventDefault(),y(""),f(""),x(!0);try{let e=localStorage.getItem("token"),t={instagramBusinessAccountId:d.instagramBusinessAccountId.trim()||null,facebookPageId:d.facebookPageId.trim()||null};d.longLivedToken.trim()&&(t.longLivedToken=d.longLivedToken.trim());let a=await fetch(`${l}/account/social`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await a.json();if(!a.ok)throw Error(s.error||"Failed to update social configuration");f("Social configuration saved."),u(e=>({...e,longLivedToken:""})),await L(),await o()}catch(e){y(e.message)}finally{x(!1)}},$=async()=>{y(""),f(""),x(!0);try{let e=localStorage.getItem("token"),t=await fetch(`${l}/account/social`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),a=await t.json();if(!t.ok)throw Error(a.error||"Failed to disconnect social account");f("Social account disconnected."),await L(),await o()}catch(e){y(e.message)}finally{x(!1)}};return(0,t.jsx)(s.default,{children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("section",{className:i.heroPanelClass,children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("p",{className:i.pillClass,children:"Integrations"}),(0,t.jsx)("h2",{className:"text-4xl font-semibold text-white",children:"Account Settings"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Connect Meta assets and manage AI keys so posts and automations keep running from your own infrastructure."})]})}),(0,t.jsxs)("section",{className:`${i.panelClass} space-y-4`,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Meta Account Connection"}),(0,t.jsx)("p",{className:i.infoTextClass,children:"Provide your long-lived token and business IDs so posting and DM automation use your own Facebook/Instagram assets."}),(0,t.jsxs)("p",{className:`${i.infoTextClass} text-amber-200`,children:["Note: The token saved here is not a permanent token. For a true long-term Meta setup, please contact our help team at"," ",(0,t.jsx)("a",{href:"mailto:support@leadsuite.ai",className:"text-sky-300 underline-offset-2 hover:text-white hover:underline",children:"support@leadsuite.ai"})," ","and weâ€™ll provision a managed solution."]})]}),b&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:b}),p&&(0,t.jsx)("p",{className:"text-sm text-green-600",children:p}),(0,t.jsxs)("p",{className:"text-sm",children:["Status:"," ",(0,t.jsx)("span",{className:r.connected?"text-green-600 font-medium":"text-red-600 font-medium",children:r.connected?"Connected":"Not Connected"})]}),m?(0,t.jsx)("p",{className:i.infoTextClass,children:"Loading current configuration..."}):(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"longLivedToken",className:i.mutedLabelClass,children:"Long-lived token"}),(0,t.jsx)("textarea",{id:"longLivedToken",name:"longLivedToken",value:d.longLivedToken,onChange:D,placeholder:"Paste new long-lived token (leave blank to keep current token)",className:i.textareaClass,rows:3})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"instagramBusinessAccountId",className:i.mutedLabelClass,children:"Instagram Business Account ID"}),(0,t.jsx)("input",{id:"instagramBusinessAccountId",name:"instagramBusinessAccountId",value:d.instagramBusinessAccountId,onChange:D,className:i.inputClass,placeholder:"IG business account ID"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"facebookPageId",className:i.mutedLabelClass,children:"Facebook Page ID"}),(0,t.jsx)("input",{id:"facebookPageId",name:"facebookPageId",value:d.facebookPageId,onChange:D,className:i.inputClass,placeholder:"Page ID"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{type:"submit",disabled:h,className:i.primaryButtonClass,children:h?"Saving...":"Save"}),(0,t.jsx)("button",{type:"button",onClick:$,disabled:h,className:i.dangerButtonClass,children:"Disconnect"})]})]})]})]})})});e.s(["default",0,l])},6302,(e,t,a)=>{let s="/account";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(9634)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([s])})},8761,e=>{e.v(t=>Promise.all(["static/chunks/df56c2ef92c6043e.js"].map(t=>e.l(t))).then(()=>t(3594)))},8805,e=>{e.v(t=>Promise.all(["static/chunks/5ec9ab7aae3f3e76.js"].map(t=>e.l(t))).then(()=>t(9466)))}]);